@page "/patient/profile/{id}"
@model FindingHealthcareSystem.Pages.Patient.Profile.ProfileModel
@{
}

<link rel="stylesheet" href="~/css/patientProfile.css" />
<div class="container mt-10">
    <div class="row justify-content-center">
        <div class="col">
            <!-- Profile Section -->
            <div class="profile-card">
                <div class="profile-header">
                    <!-- AUTHORIZATION REQUIRED !! -->
                    <button class="btn btn-primary edit-button" data-bs-toggle="modal" data-bs-target="#editProfileModal">
                        <i class="fas fa-edit"></i> Chỉnh sửa hồ sơ
                    </button>

                    <div class="row">
                        <div class="col-md-3 text-center">
                            <img src="~/img/defaultAvatar.jpg" alt="Patient Photo" class="profile-img">
                        </div>
                        <div class="col-md-9">
                            <h2 id="fullName">NGUYỄN VĂN A</h2>
                            <div class="personal-info">
                                <i class="fas fa-venus-mars info-icon"></i>
                                <span id="gender">Nam</span>
                            </div>
                            <div class="personal-info">
                                <i class="fas fa-birthday-cake info-icon"></i>
                                <span id="birthday">15/08/1985</span>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="profile-info">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-4">
                                <div class="info-label">Thông tin liên hệ</div>
                                <div class="contact-info">
                                    <i class="fas fa-envelope contact-icon"></i>
                                    <span id="email">nguyenvana@gmail.com</span>
                                </div>
                                <div class="contact-info">
                                    <i class="fas fa-phone contact-icon"></i>
                                    <span id="phoneNumber">0987654321</span>
                                </div>
                            </div>

                            <div class="mb-4">
                                <div class="info-label">Địa chỉ</div>
                                <p>
                                    <i class="fas fa-map-marker-alt location-icon"></i>
                                    <span id="address">patient.address, patient.ward, patient.district, patient.province</span>
                                </p>
                            </div>

                            
                        </div>

                        <div class="col-md-6">
                            <div class="mb-4">
                                <div class="info-label">Ghi chú y tế</div>
                                <p id="medicalNote">Bệnh nhân bị tăng huyết áp độ 1, cần kiểm soát huyết áp định kỳ. Dị ứng với hải sản, đặc biệt là tôm và cua. Có tiền sử gia đình về bệnh tim mạch.</p>
                            </div>

                            <div class="mb-4">
                                <div class="info-label">Lịch sử khám bệnh</div>
                                <div class="d-grid gap-2 d-md-block">
                                    <a href="/patient/appointment" class="btn btn-outline-primary btn-sm"><i class="fas fa-calendar-alt"></i> Xem lịch hẹn</a>
                                    <a href="#" class="btn btn-outline-primary btn-sm ms-md-2"><i class="fas fa-file-medical"></i> Xem hồ sơ bệnh án</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Upcoming Appointments Section -->
            <div class="profile-card">
                <div class="profile-header">
                    <h4 class="mb-0">Lịch hẹn sắp tới</h4>
                </div>
                <div class="profile-info">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Ngày</th>
                                    <th>Giờ</th>
                                    <th>Bác sĩ/Cơ sở y tế</th>
                                    <th>Dịch vụ</th>
                                    <th>Trạng thái</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>25/03/2025</td>
                                    <td>09:30</td>
                                    <td>BS. Trần Văn B</td>
                                    <td>Tim mạch</td>
                                    <td><span class="badge bg-warning text-dark">Chờ xác nhận</span></td>
                                    <td><button class="btn btn-outline-primary btn-sm">Chi tiết</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Edit Profile Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editProfileModalLabel">Chỉnh sửa hồ sơ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="editFullName" class="form-label">Họ và tên</label>
                            <input type="text" class="form-control" id="editFullName" value="NGUYỄN VĂN A">
                        </div>
                        <div class="col-md-6">
                            <label for="editEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="editEmail" value="nguyenvana@gmail.com">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="editPhone" class="form-label">Số điện thoại</label>
                            <input type="tel" class="form-control" id="editPhone" value="0987654321">
                        </div>
                        <div class="col-md-6">
                            <label for="editBirthday" class="form-label">Ngày sinh</label>
                            <input type="date" class="form-control" id="editBirthday" value="1985-08-15">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="editGender" class="form-label">Giới tính</label>
                            <select class="form-select" id="editGender">
                                <option value="" selected>Nam</option>
                                <option value="">Nữ</option>
                            </select>
                        </div>
                    </div>
                   
                    <div class="mb-3">
                        <label for="editMedicalNote" class="form-label">Ghi chú y tế</label>
                        <textarea class="form-control" id="editMedicalNote" rows="3">Bệnh nhân bị tăng huyết áp độ 1, cần kiểm soát huyết áp định kỳ. Dị ứng với hải sản, đặc biệt là tôm và cua. Có tiền sử gia đình về bệnh tim mạch.</textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-primary">Lưu thay đổi</button>
            </div>
        </div>
    </div>
</div>
