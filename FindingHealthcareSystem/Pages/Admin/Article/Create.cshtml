@page "/admin/article/create"
@model FindingHealthcareSystem.Pages.Admin.Article.CreateModel
@{
}
<!--------------------------------------------------------------------------------------------------------!>
<!--                                        CREATE ARTICLE (ADMIN)                                      --!>
<!--------------------------------------------------------------------------------------------------------!>
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" /> <!--this for editing content of news-->
<link rel="stylesheet" href="~/css/detailArticle.css" />
<div class="container mt-10">
    <div class="col-12">
        <div class="article-form-container">

            <!-- Article Form -->
            <form id="articleForm">
                <div class="row">
                    <div class="col-md-8">
                        <div class="form-group">
                            <label for="articleTitle" class="form-label">Tiêu đề</label>
                            <input type="text" class="form-control" id="articleTitle" placeholder="Nhập tiêu đề" value="">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="articleCategory" class="form-label">Thể loại</label>
                            <select class="form-select" id="articleCategory">
                                <option value="">Chọn thể loại</option>
                                <option value="1" selected>Dinh dưỡng</option>
                                <option value="2">Sức khỏe người lớn tuổi </option>
                                <option value="3">Mẹ và bé ???</option>

                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Nội dung</label>
                    <div class="editor-container">
                        <div id="editor">
                           
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Hình ảnh</label>
                    <div class="image-upload-area" id="imageUpload">
                        <div class="image-upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <h5>Up ảnh đây nè</h5>
                        <p class="text-muted">Định dạng: JPG, JPEG, PNG (Max: 5MB)</p>
                        <input type="file" id="imageInput" multiple accept="image/*" class="d-none">
                    </div>

                    <div class="image-preview-container">
                        
                    </div>
                </div>

                <div class="action-buttons">
                    <div class="btn-group">
                        <button type="button" class="btn btn-outline-secondary">Draft</button>
                        <button type="submit" class="btn btn-primary">Publish</button>
                    </div>
                    <button type="button" class="btn btn-outline-danger">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>


<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Initialize Quill editor
        var quill = new Quill('#editor', {
            modules: {
                toolbar: [
                    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
                    ['bold', 'italic', 'underline', 'strike'],
                    [{ 'color': [] }, { 'background': [] }],
                    [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                    ['blockquote', 'code-block'],
                    ['link', 'image'],
                    [{ 'align': [] }],
                    ['clean']
                ]
            },
            placeholder: 'Nhớ viết content nheng...',
            theme: 'snow'
        });

        // Image Upload Functionality
        const imageUpload = document.getElementById('imageUpload');
        const imageInput = document.getElementById('imageInput');

        imageUpload.addEventListener('click', function () {
            imageInput.click();
        });

        // CRUD button functionality
        document.getElementById('btnSave').addEventListener('click', function (e) {
            e.preventDefault();
            // Save functionality would go here
            alert('Article saved successfully!');
        });

        document.getElementById('btnNew').addEventListener('click', function (e) {
            e.preventDefault();
            // Reset form functionality
            document.getElementById('articleForm').reset();
            quill.setText('');
        });

        document.getElementById('btnPreview').addEventListener('click', function (e) {
            e.preventDefault();
            // Preview functionality would open a new window or tab
            alert('Preview functionality');
        });

        document.getElementById('btnDelete').addEventListener('click', function (e) {
            e.preventDefault();
            // Delete confirmation
            if (confirm('Are you sure you want to delete this article?')) {
                // Delete functionality would go here
                alert('Article deleted');
            }
        });

        // Handle image remove buttons
        const removeButtons = document.querySelectorAll('.image-preview-remove');
        removeButtons.forEach(button => {
            button.addEventListener('click', function () {
                this.closest('.image-preview-item').remove();
            });
        });
    });
</script>